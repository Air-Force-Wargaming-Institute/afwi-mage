{"openapi":"3.1.0","info":{"title":"Direct Chat Service","description":"Service for direct chat interactions using Ollama and LangChain","version":"1.0.0"},"paths":{"/api/direct_chat/chat/session/{session_id}/documents/{doc_id}/toggle":{"put":{"summary":"Toggle Document State","description":"Toggle the checked state of a document","operationId":"toggle_document_state_api_direct_chat_chat_session__session_id__documents__doc_id__toggle_put","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}},{"name":"doc_id","in":"path","required":true,"schema":{"type":"string","title":"Doc Id"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"string","default":"admin","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/direct_chat/chat/session/{session_id}/documents/states":{"get":{"summary":"Get Document States","description":"Get all document states for a session","operationId":"get_document_states_api_direct_chat_chat_session__session_id__documents_states_get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/direct_chat/chat/session/{session_id}/documents/{doc_id}":{"delete":{"summary":"Delete Document","description":"Delete a document and its files","operationId":"delete_document_api_direct_chat_chat_session__session_id__documents__doc_id__delete","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}},{"name":"doc_id","in":"path","required":true,"schema":{"type":"string","title":"Doc Id"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"string","default":"admin","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/direct_chat/chat/session/{session_id}":{"delete":{"summary":"Delete Session","description":"Delete a session and all its files","operationId":"delete_session_api_direct_chat_chat_session__session_id__delete","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/direct_chat/chat/session/{session_id}/documents/upload":{"post":{"summary":"Upload Document","description":"Upload a document and create its state","operationId":"upload_document_api_direct_chat_chat_session__session_id__documents_upload_post","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"string","default":"admin","title":"User Id"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_document_api_direct_chat_chat_session__session_id__documents_upload_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/direct_chat/chat/session/{session_id}/documents/{doc_id}/status":{"get":{"summary":"Get Document Status","description":"Get the processing status of a document","operationId":"get_document_status_api_direct_chat_chat_session__session_id__documents__doc_id__status_get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}},{"name":"doc_id","in":"path","required":true,"schema":{"type":"string","title":"Doc Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/direct_chat/health":{"get":{"summary":"Health Check","description":"Health check endpoint for the API gateway.","operationId":"health_check_api_direct_chat_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/direct_chat/chat/message":{"post":{"summary":"Chat","operationId":"chat_api_direct_chat_chat_message_post","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"type":"string","default":"admin","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/direct_chat/chat/history/{session_id}":{"get":{"summary":"Get Chat History","operationId":"get_chat_history_api_direct_chat_chat_history__session_id__get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"string","default":"admin","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/direct_chat/chat/session":{"post":{"summary":"Create Chat Session","description":"Create a new chat session","operationId":"create_chat_session_api_direct_chat_chat_session_post","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"type":"string","default":"admin","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/direct_chat/chat/sessions":{"get":{"summary":"Get Chat Sessions","operationId":"get_chat_sessions_api_direct_chat_chat_sessions_get","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"type":"string","default":"admin","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/direct_chat/chat/session/{session_id}/name":{"put":{"summary":"Update Session Name","description":"Update the name of a chat session","operationId":"update_session_name_api_direct_chat_chat_session__session_id__name_put","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"string","default":"admin","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSessionNameRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/direct_chat/chat/session/{session_id}/documents/{doc_id}/classification":{"put":{"summary":"Update Document Classification","operationId":"update_document_classification_api_direct_chat_chat_session__session_id__documents__doc_id__classification_put","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}},{"name":"doc_id","in":"path","required":true,"schema":{"type":"string","title":"Doc Id"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"string","default":"admin","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateDocumentClassificationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/direct_chat/test/thinking-format":{"get":{"summary":"Test Thinking Format","operationId":"test_thinking_format_api_direct_chat_test_thinking_format_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/direct_chat/vectorstores":{"get":{"summary":"List Vectorstores","description":"List all available vectorstores in the data/vectorstores directory with their names","operationId":"list_vectorstores_api_direct_chat_vectorstores_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/direct_chat/chat/session/{session_id}/vectorstore":{"put":{"summary":"Set Session Vectorstore","description":"Set the vectorstore to use for retrieval in a chat session","operationId":"set_session_vectorstore_api_direct_chat_chat_session__session_id__vectorstore_put","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"string","default":"admin","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SetVectorstoreRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/direct_chat/chat/session/{session_id}/metadata":{"get":{"summary":"Get Session Metadata","description":"Get the metadata for a chat session","operationId":"get_session_metadata_api_direct_chat_chat_session__session_id__metadata_get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"string","default":"admin","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_upload_document_api_direct_chat_chat_session__session_id__documents_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_document_api_direct_chat_chat_session__session_id__documents_upload_post"},"ChatRequest":{"properties":{"message":{"type":"string","title":"Message"},"session_id":{"type":"string","title":"Session Id","default":"default"}},"type":"object","required":["message"],"title":"ChatRequest"},"ChatResponse":{"properties":{"message":{"type":"string","title":"Message"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"}},"type":"object","required":["message","timestamp"],"title":"ChatResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"SetVectorstoreRequest":{"properties":{"vectorstore":{"type":"string","title":"Vectorstore"}},"type":"object","required":["vectorstore"],"title":"SetVectorstoreRequest"},"UpdateDocumentClassificationRequest":{"properties":{"classification":{"type":"string","title":"Classification"}},"type":"object","required":["classification"],"title":"UpdateDocumentClassificationRequest"},"UpdateSessionNameRequest":{"properties":{"new_name":{"type":"string","title":"New Name"}},"type":"object","required":["new_name"],"title":"UpdateSessionNameRequest"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}