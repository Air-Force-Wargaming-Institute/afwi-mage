{"openapi":"3.1.0","info":{"title":"MAGE Core Service","description":"Core service for MAGE document management","version":"1.0.0"},"paths":{"/api/core/health":{"get":{"summary":"Health Check","description":"Health check endpoint for the API gateway.","operationId":"health_check_api_core_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/core/documents":{"get":{"tags":["documents"],"summary":"List Documents","description":"List all documents and folders in the specified path","operationId":"list_documents_api_core_documents_get","parameters":[{"name":"path","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"","title":"Path"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DocumentResponse"},"title":"Response List Documents Api Core Documents Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/core/documents/folders":{"post":{"tags":["documents"],"summary":"Create Folder","description":"Create a new folder","operationId":"create_folder_api_core_documents_folders_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FolderRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/core/documents/move":{"post":{"tags":["documents"],"summary":"Move Items","description":"Move documents or folders to a different folder","operationId":"move_items_api_core_documents_move_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_move_items_api_core_documents_move_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/core/documents/upload":{"post":{"tags":["documents"],"summary":"Upload Documents","description":"Upload one or more documents","operationId":"upload_documents_api_core_documents_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_documents_api_core_documents_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/core/documents/{document_id}/download":{"get":{"tags":["documents"],"summary":"Download Document","description":"Download a single document.","operationId":"download_document_api_core_documents__document_id__download_get","parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","title":"Document Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/core/documents/{document_id}":{"delete":{"tags":["documents"],"summary":"Delete Document","description":"Delete a specific document","operationId":"delete_document_api_core_documents__document_id__delete","parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","title":"Document Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/core/documents/{document_id}/preview":{"get":{"tags":["documents"],"summary":"Preview Document","description":"Get a preview of a document's content","operationId":"preview_document_api_core_documents__document_id__preview_get","parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","title":"Document Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/core/documents/bulk-delete":{"post":{"tags":["documents"],"summary":"Bulk Delete Documents","description":"Delete multiple documents at once with progress tracking.","operationId":"bulk_delete_documents_api_core_documents_bulk_delete_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkDeleteRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Bulk Delete Documents Api Core Documents Bulk Delete Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/core/documents/bulk-download":{"post":{"tags":["documents"],"summary":"Bulk Download Documents","description":"Download multiple documents as a ZIP file with progress tracking.","operationId":"bulk_download_documents_api_core_documents_bulk_download_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkDownloadRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/core/documents/bulk-operations/{operation_id}/status":{"get":{"tags":["documents"],"summary":"Get Operation Status","description":"Get the status of a bulk operation.","operationId":"get_operation_status_api_core_documents_bulk_operations__operation_id__status_get","parameters":[{"name":"operation_id","in":"path","required":true,"schema":{"type":"string","title":"Operation Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkOperationStatus"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/core/documents/rename":{"post":{"tags":["documents"],"summary":"Rename Item","description":"Rename a document or folder","operationId":"rename_item_api_core_documents_rename_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_rename_item_api_core_documents_rename_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_move_items_api_core_documents_move_post":{"properties":{"source_paths":{"items":{"type":"string"},"type":"array","title":"Source Paths"},"target_folder":{"type":"string","title":"Target Folder"}},"type":"object","required":["source_paths","target_folder"],"title":"Body_move_items_api_core_documents_move_post"},"Body_rename_item_api_core_documents_rename_post":{"properties":{"old_path":{"type":"string","title":"Old Path"},"new_name":{"type":"string","title":"New Name"}},"type":"object","required":["old_path","new_name"],"title":"Body_rename_item_api_core_documents_rename_post"},"Body_upload_documents_api_core_documents_upload_post":{"properties":{"files":{"items":{"type":"string","format":"binary"},"type":"array","title":"Files"},"folder_path":{"type":"string","title":"Folder Path","default":""}},"type":"object","required":["files"],"title":"Body_upload_documents_api_core_documents_upload_post"},"BulkDeleteRequest":{"properties":{"documentIds":{"items":{"type":"string"},"type":"array","title":"Documentids"}},"type":"object","required":["documentIds"],"title":"BulkDeleteRequest"},"BulkDownloadRequest":{"properties":{"documentIds":{"items":{"type":"string"},"type":"array","title":"Documentids"},"include_folders":{"type":"boolean","title":"Include Folders","default":false},"preserve_structure":{"type":"boolean","title":"Preserve Structure","default":true}},"type":"object","required":["documentIds"],"title":"BulkDownloadRequest"},"BulkOperationStatus":{"properties":{"operation_id":{"type":"string","title":"Operation Id"},"total_items":{"type":"integer","title":"Total Items"},"processed_items":{"type":"integer","title":"Processed Items"},"status":{"type":"string","title":"Status"},"errors":{"items":{"type":"string"},"type":"array","title":"Errors","default":[]},"completed":{"type":"boolean","title":"Completed","default":false}},"type":"object","required":["operation_id","total_items","processed_items","status"],"title":"BulkOperationStatus"},"DocumentResponse":{"properties":{"id":{"type":"string","title":"Id","description":"Document identifier"},"name":{"type":"string","title":"Name","description":"Document name"},"type":{"type":"string","title":"Type","description":"Document type or 'folder' for directories"},"size":{"type":"integer","title":"Size","description":"Document size in bytes"},"uploadDate":{"type":"string","title":"Uploaddate","description":"Document upload date"},"path":{"type":"string","title":"Path","description":"Document path relative to upload directory"},"isFolder":{"type":"boolean","title":"Isfolder","description":"Whether this item is a folder","default":false},"parentPath":{"type":"string","title":"Parentpath","description":"Parent folder path","default":""},"securityClassification":{"type":"string","title":"Securityclassification","description":"Security classification of the document","default":"Unclassified"}},"type":"object","required":["id","name","type","size","uploadDate","path"],"title":"DocumentResponse","example":{"id":"documents/report.pdf","isFolder":false,"name":"report.pdf","parentPath":"documents","path":"documents/report.pdf","securityClassification":"Unclassified","size":1024,"type":"PDF","uploadDate":"2024-01-19T12:00:00"}},"FolderRequest":{"properties":{"name":{"type":"string","title":"Name"},"parent_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Parent Path","default":""}},"type":"object","required":["name"],"title":"FolderRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}